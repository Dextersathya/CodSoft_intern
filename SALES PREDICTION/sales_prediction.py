# -*- coding: utf-8 -*-
"""SALES PREDICTION.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1B82YsYcgB_OEQMkM2iJOdhJlb7GJ2QUq
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

data=pd.read_csv('/content/advertising.csv')

data.head()

plt.scatter(data['TV'],data['Sales'])

plt.scatter(data['Radio'],data['Sales'])

plt.scatter(data['Newspaper'],data['Sales'])

plt.hist(data['Sales'], bins=5, edgecolor='black')
plt.title('Histogram')
plt.xlabel('Sales')
plt.ylabel('Frequency')
plt.show()

"""## TV has the higest sales compare to other mode"""

total_sales = {
    'TV': data['TV'].sum(),
    'Radio':data['Radio'].sum(),
    'Newspaper': data['Newspaper'].sum()
}
labels = total_sales.keys()
sizes = total_sales.values()
colors = ['gold', 'lightcoral', 'lightskyblue']
explode = (0.1, 0, 0)
plt.figure(figsize=(8, 8))
plt.pie(sizes, explode=explode, labels=labels, colors=colors, autopct='%1.1f%%',
        shadow=True, startangle=140)
plt.title('Total Sales Contribution by Advertising Medium')
plt.show()

x= data.iloc[:,:-1]
y=data.iloc[:,-1]

from sklearn.model_selection import train_test_split
x_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.2,random_state=0)

from sklearn.linear_model import LinearRegression
regressor=LinearRegression()
regressor.fit(x_train,y_train)

y_pred=regressor.predict(x_test)

"""## For analysing next mode to increase the advatisement"""

input_data = np.array([[230.1, 37.8, 69.2]])
result = regressor.predict(input_data)
print(result)

from sklearn.metrics import r2_score
r2_score(y_test,y_pred)

from sklearn.metrics import mean_squared_error
mse=mean_squared_error(y_test,y_pred)
print(mse)